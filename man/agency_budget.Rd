% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/agency.R
\name{agency_budget_function_count}
\alias{agency_budget_function_count}
\alias{agency_budget_functions}
\alias{agency_budget_resources}
\alias{agency_obligations_by_award_category}
\title{Agency Budget Functions and Resources}
\usage{
agency_budget_function_count(toptier_code, fiscal_year = NULL, ...)

agency_budget_functions(
  toptier_code,
  fiscal_year = NULL,
  .page_all = FALSE,
  ...
)

agency_budget_resources(toptier_code, ...)

agency_obligations_by_award_category(toptier_code, fiscal_year = NULL, ...)
}
\arguments{
\item{toptier_code}{A character string containing a 3-4 digit numeric code that uniquely
identifies a top-tier federal agency (e.g., "086" for Department of Housing
and Urban Development). Must be a valid CGAC (Common Government-wide Accounting
Classification) or FREC (Federal Record Classification) code.}

\item{fiscal_year}{Optional numeric value specifying the fiscal year for the query.
If NULL (default), the API will use the current fiscal year. Must be 2017 or later.}

\item{...}{Additional parameters passed to specific API endpoints. Common options include:
\itemize{
\item \code{page}: Integer specifying the page number to retrieve (default: 1)
\item \code{limit}: Integer specifying number of records per page (default: 10)
\item \code{sort}: Field to sort results by (varies by endpoint)
\item \code{order}: Sort direction: "asc" or "desc" (default varies by endpoint)
}}

\item{.page_all}{Logical indicating whether to retrieve all pages of results (TRUE)
or just the first page (FALSE, default). When TRUE, the function will automatically
handle pagination to retrieve the complete dataset.}
}
\value{
Each function returns a tibble with different structures:
\itemize{
\item \code{agency_budget_functions()} returns:
\itemize{
\item \code{name}: Budget function name
\item \code{obligated_amount}: Amount obligated
\item \code{gross_outlay_amount}: Gross outlay amount
\item \code{children}: Nested data frame of subfunction details
}
\item \code{agency_budget_function_count()} returns:
\itemize{
\item \code{toptier_code}: Agency identifier code
\item \code{fiscal_year}: Fiscal year
\item \code{budget_function_count}: Number of budget functions
\item \code{budget_sub_function_count}: Number of budget subfunctions
}
\item \code{agency_budget_resources()} returns:
\itemize{
\item \code{fiscal_year}: Fiscal year
\item \code{agency_budgetary_resources}: Total agency budget
\item \code{agency_total_obligated}: Total obligations
\item \code{total_budgetary_resources}: Government-wide total budget
\item \code{agency_obligation_by_period}: Nested data frame of periodic obligations
}
\item \code{agency_obligations_by_award_category()} returns:
\itemize{
\item \code{total_aggregated_amount}: Total award obligations
\item \code{results}: List of obligation amounts by award category
}
}
}
\description{
Functions to retrieve budget-related information for federal agencies, including
budget functions, budgetary resources, and obligations by award category.
}
\examples{
\dontshow{if (interactive()) (if (getRversion() >= "3.4") withAutoprint else force)(\{ # examplesIf}
# Get budget functions for HUD
budget_funcs <- agency_budget_functions("086", fiscal_year = 2023)

# Get budget function counts
func_counts <- agency_budget_function_count("086", fiscal_year = 2023)

# Get budgetary resources for HUD
budget_resources <- agency_budget_resources("086")

# Get obligations by award category
award_obligations <- agency_obligations_by_award_category("086", fiscal_year = 2023)
\dontshow{\}) # examplesIf}
}
\seealso{
\code{\link[=agency_federal_account]{agency_federal_account()}}, \code{\link[=agency_object_class]{agency_object_class()}}
}
