% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/agency.R
\name{agency}
\alias{agency}
\alias{agency_overview}
\alias{agency_awards}
\alias{agency_awards_count}
\alias{agency_awards_count_all}
\alias{agency_budget_function_count}
\alias{agency_budget_functions}
\alias{agency_budget_resources}
\alias{agency_federal_accounts}
\alias{agency_object_classes}
\alias{agency_program_activities}
\alias{agency_sub_agencies}
\title{Access USAspending API Agency-Related Endpoints}
\usage{
agency_overview(toptier_code, ...)

agency_awards(toptier_code, fiscal_year = NULL, .page_all = FALSE, ...)

agency_awards_count(toptier_code, fiscal_year = NULL, ...)

agency_awards_count_all(fiscal_year = NULL, .page_all = FALSE, ...)

agency_budget_function_count(toptier_code, fiscal_year = NULL, ...)

agency_budget_functions(
  toptier_code,
  fiscal_year = NULL,
  .page_all = FALSE,
  ...
)

agency_budget_resources(toptier_code, ...)

agency_federal_accounts(
  toptier_code,
  fiscal_year = NULL,
  .page_all = FALSE,
  ...
)

agency_object_classes(toptier_code, fiscal_year = NULL, .page_all = FALSE, ...)

agency_program_activities(
  toptier_code,
  fiscal_year = NULL,
  .page_all = FALSE,
  ...
)

agency_sub_agencies(toptier_code, fiscal_year = NULL, .page_all = FALSE, ...)
}
\arguments{
\item{toptier_code}{A character string representing the unique identifier for a
top-tier federal agency (e.g., "086" for Department of Housing and Urban Development).}

\item{...}{Additional parameters passed to the API endpoint (e.g., page, limit,
sort, order). See USAspending API documentation for details.}

\item{fiscal_year}{Optional numeric value specifying the fiscal year for the query.
If NULL (default), returns data for all available fiscal years.}

\item{.page_all}{Logical indicating whether to retrieve all pages of results (TRUE)
or just the first page (FALSE, default). Use TRUE for complete datasets,
but be aware this may take longer for large result sets.}
}
\value{
A tibble containing the requested agency data. The structure varies by endpoint:
\itemize{
\item agency_overview(): Basic agency information including name, code, and current data
\item agency_awards(): Detailed award information including amounts and recipients
\item agency_awards_count(): Count of awards by category and fiscal year
\item agency_awards_count_all(): Government-wide award counts
\item agency_federal_accounts(): Federal accounts associated with the agency
\item agency_object_classes(): Object class spending for the agency
\item agency_program_activities(): Program activities for the agency
\item agency_sub_agencies(): Sub-agencies within the main agency
\item agency_budget_function_count(): Count of budget functions
\item agency_budget_functions(): Detailed budget function data
\item agency_budget_resources(): Overview of agency budgetary resources
}
}
\description{
Functions to retrieve agency-related data from the USAspending API. These functions
provide access to agency overview information, budget information, award data, and award counts.
}
\section{API Documentation}{

For detailed information about the API endpoints and parameters, visit:
\url{https://api.usaspending.gov/docs/}
}

\examples{
\dontshow{if (interactive()) (if (getRversion() >= "3.4") withAutoprint else force)(\{ # examplesIf}
# Get overview of Department of Housing and Urban Development
agency_overview("086")

# Get 2023 fiscal year awards with complete pagination
awards <- agency_awards("086", 
                       fiscal_year = 2023, 
                       .page_all = TRUE)

# Get award counts for specific fiscal year
award_counts <- agency_awards_count("086", fiscal_year = 2023)

# Get all agency award counts with custom limit
all_counts <- agency_awards_count_all(fiscal_year = 2023, 
                                     limit = 100)

# Get federal accounts for an agency
fed_accounts <- agency_federal_accounts("086", fiscal_year = 2023)

# Get object classes with pagination
obj_classes <- agency_object_classes("086",
                                    fiscal_year = 2023,
                                    .page_all = TRUE)

# Get program activities
programs <- agency_program_activities("086", fiscal_year = 2023)

# Get sub-agencies
sub_agencies <- agency_sub_agencies("086")
\dontshow{\}) # examplesIf}
}
