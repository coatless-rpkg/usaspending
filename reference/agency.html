<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Access USAspending API Agency-Related Endpoints — agency • usaspending</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Access USAspending API Agency-Related Endpoints — agency"><meta name="description" content="Functions to retrieve agency-related data from the USAspending API. These functions
provide access to agency overview information, budget information, award data, and award counts."><meta property="og:description" content="Functions to retrieve agency-related data from the USAspending API. These functions
provide access to agency overview information, budget information, award data, and award counts."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">usaspending</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/coatless-rpkg/usaspending/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Access USAspending API Agency-Related Endpoints</h1>
      <small class="dont-index">Source: <a href="https://github.com/coatless-rpkg/usaspending/blob/main/R/agency.R" class="external-link"><code>R/agency.R</code></a></small>
      <div class="d-none name"><code>agency.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Functions to retrieve agency-related data from the USAspending API. These functions
provide access to agency overview information, budget information, award data, and award counts.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">agency_overview</span><span class="op">(</span><span class="va">toptier_code</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">agency_awards</span><span class="op">(</span><span class="va">toptier_code</span>, fiscal_year <span class="op">=</span> <span class="cn">NULL</span>, .page_all <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">agency_awards_count</span><span class="op">(</span><span class="va">toptier_code</span>, fiscal_year <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">agency_awards_count_all</span><span class="op">(</span>fiscal_year <span class="op">=</span> <span class="cn">NULL</span>, .page_all <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">agency_budget_function_count</span><span class="op">(</span><span class="va">toptier_code</span>, fiscal_year <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">agency_budget_functions</span><span class="op">(</span></span>
<span>  <span class="va">toptier_code</span>,</span>
<span>  fiscal_year <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .page_all <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">agency_budget_resources</span><span class="op">(</span><span class="va">toptier_code</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">agency_federal_account</span><span class="op">(</span></span>
<span>  <span class="va">toptier_code</span>,</span>
<span>  fiscal_year <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .page_all <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">agency_federal_account_count</span><span class="op">(</span><span class="va">toptier_code</span>, fiscal_year <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">agency_object_classes</span><span class="op">(</span><span class="va">toptier_code</span>, fiscal_year <span class="op">=</span> <span class="cn">NULL</span>, .page_all <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">agency_object_class_count</span><span class="op">(</span><span class="va">toptier_code</span>, fiscal_year <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">agency_obligations_by_award_category</span><span class="op">(</span><span class="va">toptier_code</span>, fiscal_year <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">agency_program_activity</span><span class="op">(</span></span>
<span>  <span class="va">toptier_code</span>,</span>
<span>  fiscal_year <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .page_all <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">agency_program_activity_count</span><span class="op">(</span></span>
<span>  <span class="va">toptier_code</span>,</span>
<span>  fiscal_year <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .page_all <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">agency_sub_agency</span><span class="op">(</span><span class="va">toptier_code</span>, fiscal_year <span class="op">=</span> <span class="cn">NULL</span>, .page_all <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">agency_sub_agency_count</span><span class="op">(</span></span>
<span>  <span class="va">toptier_code</span>,</span>
<span>  fiscal_year <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .page_all <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">agency_sub_components</span><span class="op">(</span><span class="va">toptier_code</span>, fiscal_year <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">agency_sub_components_accounts</span><span class="op">(</span></span>
<span>  <span class="va">toptier_code</span>,</span>
<span>  <span class="va">bureau_slug</span>,</span>
<span>  fiscal_year <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">agency_treasury_account_object_class</span><span class="op">(</span><span class="va">treasury_account_symbol</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">agency_treasury_account_program_activity</span><span class="op">(</span><span class="va">treasury_account_symbol</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-toptier-code">toptier_code<a class="anchor" aria-label="anchor" href="#arg-toptier-code"></a></dt>
<dd><p>A character string representing the unique identifier for a
top-tier federal agency (e.g., "086" for Department of Housing and Urban Development).</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional parameters passed to the API endpoint (e.g., page, limit,
sort, order). See USAspending API documentation for details.</p></dd>


<dt id="arg-fiscal-year">fiscal_year<a class="anchor" aria-label="anchor" href="#arg-fiscal-year"></a></dt>
<dd><p>Optional numeric value specifying the fiscal year for the query.
If NULL (default), returns data for all available fiscal years.</p></dd>


<dt id="arg--page-all">.page_all<a class="anchor" aria-label="anchor" href="#arg--page-all"></a></dt>
<dd><p>Logical indicating whether to retrieve all pages of results (TRUE)
or just the first page (FALSE, default). Use TRUE for complete datasets,
but be aware this may take longer for large result sets.</p></dd>


<dt id="arg-bureau-slug">bureau_slug<a class="anchor" aria-label="anchor" href="#arg-bureau-slug"></a></dt>
<dd><p>A character string slug identifier for the bureau</p></dd>


<dt id="arg-treasury-account-symbol">treasury_account_symbol<a class="anchor" aria-label="anchor" href="#arg-treasury-account-symbol"></a></dt>
<dd><p>A character string representing the Treasury Account Symbol (TAS)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A tibble containing the requested agency data. The structure varies by endpoint:</p><ul><li><p>agency_overview(): Basic agency information including name, code, and current data</p></li>
<li><p>agency_awards(): Detailed award information including amounts and recipients</p></li>
<li><p>agency_awards_count(): Count of awards by category and fiscal year</p></li>
<li><p>agency_awards_count_all(): Government-wide award counts</p></li>
<li><p>agency_federal_account(): Federal accounts associated with the agency</p></li>
<li><p>agency_federal_account_count(): Count of federal accounts and treasury accounts</p></li>
<li><p>agency_object_classes(): Object class spending for the agency</p></li>
<li><p>agency_program_activities(): Program activities for the agency</p></li>
<li><p>agency_sub_agencies(): Sub-agencies within the main agency</p></li>
<li><p>agency_budget_function_count(): Count of budget functions</p></li>
<li><p>agency_budget_functions(): Detailed budget function data</p></li>
<li><p>agency_budget_resources(): Overview of agency budgetary resources</p></li>
<li><p>agency_obligations_by_award_category(): Obligation amounts by award category</p></li>
<li><p>agency_object_class_count(): Count of object classes</p></li>
<li><p>agency_program_activity_count(): Count of program activity categories</p></li>
<li><p>agency_sub_agency_count(): Count of sub-agencies and offices</p></li>
<li><p>agency_sub_components(): List of bureaus for the agency</p></li>
<li><p>agency_sub_components_accounts(): Federal accounts by bureau</p></li>
<li><p>treasury_account_object_class(): Object classes for a treasury account</p></li>
<li><p>treasury_account_program_activity(): Program activities for a treasury account</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="api-documentation">API Documentation<a class="anchor" aria-label="anchor" href="#api-documentation"></a></h2>


<p>For detailed information about the API endpoints and parameters, visit:
<a href="https://api.usaspending.gov/docs/" class="external-link">https://api.usaspending.gov/docs/</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># interactive()</span></span></span>
<span class="r-in"><span><span class="co"># Get overview of Department of Housing and Urban Development</span></span></span>
<span class="r-in"><span><span class="fu">agency_overview</span><span class="op">(</span><span class="st">"086"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get 2023 fiscal year awards with complete pagination</span></span></span>
<span class="r-in"><span><span class="va">awards</span> <span class="op">&lt;-</span> <span class="fu">agency_awards</span><span class="op">(</span><span class="st">"086"</span>, </span></span>
<span class="r-in"><span>                       fiscal_year <span class="op">=</span> <span class="fl">2023</span>, </span></span>
<span class="r-in"><span>                       .page_all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get award counts for specific fiscal year</span></span></span>
<span class="r-in"><span><span class="va">award_counts</span> <span class="op">&lt;-</span> <span class="fu">agency_awards_count</span><span class="op">(</span><span class="st">"086"</span>, fiscal_year <span class="op">=</span> <span class="fl">2023</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get all agency award counts with custom limit</span></span></span>
<span class="r-in"><span><span class="va">all_counts</span> <span class="op">&lt;-</span> <span class="fu">agency_awards_count_all</span><span class="op">(</span>fiscal_year <span class="op">=</span> <span class="fl">2023</span>, </span></span>
<span class="r-in"><span>                                     limit <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get federal accounts for an agency</span></span></span>
<span class="r-in"><span><span class="va">fed_accounts</span> <span class="op">&lt;-</span> <span class="fu">agency_federal_accounts</span><span class="op">(</span><span class="st">"086"</span>, fiscal_year <span class="op">=</span> <span class="fl">2023</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get object classes with pagination</span></span></span>
<span class="r-in"><span><span class="va">obj_classes</span> <span class="op">&lt;-</span> <span class="fu">agency_object_classes</span><span class="op">(</span><span class="st">"086"</span>,</span></span>
<span class="r-in"><span>                                    fiscal_year <span class="op">=</span> <span class="fl">2023</span>,</span></span>
<span class="r-in"><span>                                    .page_all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get program activities</span></span></span>
<span class="r-in"><span><span class="va">programs</span> <span class="op">&lt;-</span> <span class="fu">agency_program_activities</span><span class="op">(</span><span class="st">"086"</span>, fiscal_year <span class="op">=</span> <span class="fl">2023</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get sub-agencies</span></span></span>
<span class="r-in"><span><span class="va">sub_agencies</span> <span class="op">&lt;-</span> <span class="fu">agency_sub_agencies</span><span class="op">(</span><span class="st">"086"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by James Joseph Balamuta.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

